FAILED: out/soong/.intermediates/device/xiaomi/chopin/bootctrl/android.hardware.boot@1.1-mtkimpl/android_recovery_arm
64_armv8-a_shared/4c2ce122f611b1d3e299ee17f19baa40/unstripped/android.hardware.boot@1.0-impl-1.1-mtkimpl.so
prebuilts/clang/host/linux-x86/clang-r510928/bin/clang++ out/soong/.intermediates/bionic/libc/crtbegin_so/android_rec
overy_arm64_armv8-a/crtbegin_so.o @'out/soong/.intermediates/device/xiaomi/chopin/bootctrl/android.hardware.boot@1.1-
mtkimpl/android_recovery_arm64_armv8-a_shared/4c2ce122f611b1d3e299ee17f19baa40/unstripped/android.hardware.boot@1.0-i
mpl-1.1-mtkimpl.so'.rsp out/soong/.intermediates/bionic/libc/crtend_so/android_recovery_arm64_armv8-a/crtend_so.o out
/soong/.intermediates/bionic/libc/crt_pad_segment/android_recovery_arm64_armv8-a/crt_pad_segment.o -o 'out/soong/.int
ermediates/device/xiaomi/chopin/bootctrl/android.hardware.boot@1.1-mtkimpl/android_recovery_arm64_armv8-a_shared/4c2c
e122f611b1d3e299ee17f19baa40/unstripped/android.hardware.boot@1.0-impl-1.1-mtkimpl.so' -target aarch64-linux-android1
0000 -Wl,-z,noexecstack -Wl,-z,relro -Wl,-z,now -Wl,--build-id=md5 -Wl,--fatal-warnings -Wl,--no-undefined-version -W
l,--exclude-libs,libgcc.a -Wl,--exclude-libs,libgcc_stripped.a -Wl,--exclude-libs,libunwind_llvm.a -Wl,--exclude-libs
,libunwind.a -fuse-ld=lld -Wl,--icf=safe -Wl,--no-demangle -Wl,--compress-debug-sections=zstd -Wl,--pack-dyn-relocs=a
ndroid+relr -Wl,--no-undefined -Wl,--hash-style=gnu -Wl,-z,separate-code -Wl,-z,max-page-size=4096   -nostdlib -Wl,--
gc-sections -shared -Wl,-soname,android.hardware.boot@1.0-impl-1.1-mtkimpl.so -flto=thin -fsplit-lto-unit -Wl,--lto-O
0 -Wl,-plugin-opt,-import-instr-limit=5 -Wl,-mllvm,-regalloc-enable-advisor=release -Wl,--exclude-libs=libclang_rt.bu
iltins-aarch64-android.a -Wl,--exclude-libs=libclang_rt.ubsan_minimal-aarch64-android.a 
ld.lld: error: undefined symbol: _ZN7android4base9ShouldLogENS0_11LogSeverityEPKc
>>> referenced by boot_region_control.cpp:84 (device/xiaomi/chopin/bootctrl/boot_region_control.cpp:84)
>>>               lto.tmp:(_ZN7android8bootable14BootControlExt17SetBootRegionSlotEj)
>>> referenced by boot_region_control.cpp:87 (device/xiaomi/chopin/bootctrl/boot_region_control.cpp:87)
>>>               lto.tmp:(_ZN7android8bootable14BootControlExt17SetBootRegionSlotEj)
>>> referenced by BootControl.cpp:67 (device/xiaomi/chopin/bootctrl/BootControl.cpp:67)
>>>               lto.tmp:(_ZN7android8hardware4boot4V1_114implementation11BootControl16clearAvbbctlFlagEv)
>>> referenced 57 more times

ld.lld: error: undefined symbol: _ZN7android4base10LogMessageC1EPKcjNS0_11LogSeverityES3_i
>>> referenced by boot_region_control.cpp:87 (device/xiaomi/chopin/bootctrl/boot_region_control.cpp:87)
>>>               lto.tmp:(_ZN7android8bootable14BootControlExt17SetBootRegionSlotEj)
>>> referenced by libboot_control.cpp:83 (hardware/interfaces/boot/1.1/default/boot_control/libboot_control.cpp:83)
>>>               lto.tmp:(_ZN7android8bootable21LoadBootloaderControlERKNSt3__112basic_stringIcNS1_11char_traitsIcEE
NS1_9allocatorIcEEEEP18bootloader_control)
>>> referenced by boot_region_control.cpp:84 (device/xiaomi/chopin/bootctrl/boot_region_control.cpp:84)
>>>               lto.tmp:(_ZN7android8bootable14BootControlExt17SetBootRegionSlotEj)
>>> referenced 54 more times

ld.lld: error: undefined symbol: _ZN7android4base9ReadFullyENS0_11borrowed_fdEPvm
>>> referenced by libboot_control.cpp:90 (hardware/interfaces/boot/1.1/default/boot_control/libboot_control.cpp:90)
>>>               lto.tmp:(_ZN7android8bootable21LoadBootloaderControlERKNSt3__112basic_stringIcNS1_11char_traitsIcEE
NS1_9allocatorIcEEEEP18bootloader_control)
>>> referenced by bootloader_message.cpp:107 (bootable/recovery/bootloader_message/bootloader_message.cpp:107)
>>>               lto.tmp:(_ZL19read_misc_partitionPvmRKNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcE
EEEmPS6_)

ld.lld: error: undefined symbol: _ZN7android4base10LogMessage6streamEv
>>> referenced by boot_region_control.cpp:87 (device/xiaomi/chopin/bootctrl/boot_region_control.cpp:87)
>>>               lto.tmp:(_ZN7android8bootable14BootControlExt17SetBootRegionSlotEj)
>>> referenced by boot_region_control.cpp:84 (device/xiaomi/chopin/bootctrl/boot_region_control.cpp:84)
>>>               lto.tmp:(_ZN7android8bootable14BootControlExt17SetBootRegionSlotEj)
>>> referenced by libboot_control.cpp:83 (hardware/interfaces/boot/1.1/default/boot_control/libboot_control.cpp:83)
>>>               lto.tmp:(_ZN7android8bootable21LoadBootloaderControlERKNSt3__112basic_stringIcNS1_11char_traitsIcEE
NS1_9allocatorIcEEEEP18bootloader_control)
>>> referenced 54 more times

ld.lld: error: undefined symbol: _ZN7android4base10LogMessageD1Ev
>>> referenced by boot_region_control.cpp:87 (device/xiaomi/chopin/bootctrl/boot_region_control.cpp:87)
>>>               lto.tmp:(_ZN7android8bootable14BootControlExt17SetBootRegionSlotEj)
>>> referenced by boot_region_control.cpp:84 (device/xiaomi/chopin/bootctrl/boot_region_control.cpp:84)
>>>               lto.tmp:(_ZN7android8bootable14BootControlExt17SetBootRegionSlotEj)
>>> referenced by boot_config.cpp:46 (system/core/fs_mgr/libfstab/boot_config.cpp:46)
>>>               lto.tmp:(_ZZN7android6fs_mgr15GetAndroidDtDirEvENK3$_0clEv)
>>> referenced 35 more times

ld.lld: error: undefined symbol: _ZN7android4base10WriteFullyENS0_11borrowed_fdEPKvm
>>> referenced by bootloader_message.cpp:128 (bootable/recovery/bootloader_message/bootloader_message.cpp:128)
>>>               lto.tmp:(_Z20write_misc_partitionPKvmRKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIc
EEEEmPS7_)
>>> referenced by libboot_control.cpp:108 (hardware/interfaces/boot/1.1/default/boot_control/libboot_control.cpp:108)
>>>               lto.tmp:(_ZN7android8bootable30UpdateAndSaveBootloaderControlERKNSt3__112basic_stringIcNS1_11char_t
raitsIcEENS1_9allocatorIcEEEEP18bootloader_control)

ld.lld: error: undefined symbol: _ZN7android4base12StringPrintfEPKcz
>>> referenced by bootloader_message.cpp:0 (bootable/recovery/bootloader_message/bootloader_message.cpp:0)
>>>               lto.tmp:(_Z20write_misc_partitionPKvmRKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIc
EEEEmPS7_)
>>> referenced by bootloader_message.cpp:79 (bootable/recovery/bootloader_message/bootloader_message.cpp:79)
>>>               lto.tmp:(_ZL15wait_for_deviceRKNSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPS5_)
>>> referenced by bootloader_message.cpp:86 (bootable/recovery/bootloader_message/bootloader_message.cpp:86)
>>>               lto.tmp:(_ZL15wait_for_deviceRKNSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEPS5_)
>>> referenced 8 more times

ld.lld: error: undefined symbol: _ZN7android4base5SplitERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocatorI
cEEEES9_
>>> referenced by boot_config.cpp:54 (system/core/fs_mgr/libfstab/boot_config.cpp:54)
>>>               lto.tmp:(_ZN7android6fs_mgr26ImportBootconfigFromStringERKNSt3__112basic_stringIcNS1_11char_traitsI
cEENS1_9allocatorIcEEEERKNS1_8functionIFvS7_S7_EEE)
>>> referenced by fstab.cpp:546 (system/core/fs_mgr/libfstab/fstab.cpp:546)
>>>               lto.tmp:(_ZN7android6fs_mgr20ParseFstabFromStringERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1
_9allocatorIcEEEEbPNS1_6vectorINS0_10FstabEntryENS5_ISB_EEEE)
>>> referenced by fstab.cpp:123 (system/core/fs_mgr/libfstab/fstab.cpp:123)
>>>               lto.tmp:(_ZN7android6fs_mgr20ParseFstabFromStringERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1
_9allocatorIcEEEEbPNS1_6vectorINS0_10FstabEntryENS5_ISB_EEEE)
>>> referenced 7 more times

ld.lld: error: undefined symbol: _ZN7android4base4TrimINSt3__117basic_string_viewIcNS2_11char_traitsIcEEEEEENS2_12bas
ic_stringIcS5_NS2_9allocatorIcEEEEOT_
>>> referenced by boot_config.cpp:56 (system/core/fs_mgr/libfstab/boot_config.cpp:56)
>>>               lto.tmp:(_ZN7android6fs_mgr26ImportBootconfigFromStringERKNSt3__112basic_stringIcNS1_11char_traitsI
cEENS1_9allocatorIcEEEERKNS1_8functionIFvS7_S7_EEE)
>>> referenced by boot_config.cpp:62 (system/core/fs_mgr/libfstab/boot_config.cpp:62)
>>>               lto.tmp:(_ZN7android6fs_mgr26ImportBootconfigFromStringERKNSt3__112basic_stringIcNS1_11char_traitsI
cEENS1_9allocatorIcEEEERKNS1_8functionIFvS7_S7_EEE)

ld.lld: error: undefined symbol: _ZN7android4base8TokenizeERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocat
orIcEEEES9_
>>> referenced by fstab.cpp:547 (system/core/fs_mgr/libfstab/fstab.cpp:547)
>>>               lto.tmp:(_ZN7android6fs_mgr20ParseFstabFromStringERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1
_9allocatorIcEEEEbPNS1_6vectorINS0_10FstabEntryENS5_ISB_EEEE)

ld.lld: error: undefined symbol: _ZN7android4base10StartsWithENSt3__117basic_string_viewIcNS1_11char_traitsIcEEEEc
>>> referenced by fstab.cpp:550 (system/core/fs_mgr/libfstab/fstab.cpp:550)
>>>               lto.tmp:(_ZN7android6fs_mgr20ParseFstabFromStringERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1
_9allocatorIcEEEEbPNS1_6vectorINS0_10FstabEntryENS5_ISB_EEEE)

ld.lld: error: undefined symbol: _ZN7android4base9HexStringEPKvm
>>> referenced by bootloader_message.cpp:354 (bootable/recovery/bootloader_message/bootloader_message.cpp:354)
>>>               lto.tmp:(_Z29CheckReservedSystemSpaceEmptyPbPNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9alloc
atorIcEEEE)

ld.lld: error: undefined symbol: _ZN7android4base10StartsWithENSt3__117basic_string_viewIcNS1_11char_traitsIcEEEES5_
>>> referenced by fstab.cpp:133 (system/core/fs_mgr/libfstab/fstab.cpp:133)
>>>               lto.tmp:(_ZN7android6fs_mgr20ParseFstabFromStringERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1
_9allocatorIcEEEEbPNS1_6vectorINS0_10FstabEntryENS5_ISB_EEEE)
>>> referenced by strings.h:133 (system/libbase/include/android-base/strings.h:133)
>>>               lto.tmp:(_ZN7android6fs_mgr26ImportBootconfigFromStringERKNSt3__112basic_stringIcNS1_11char_traitsI
cEENS1_9allocatorIcEEEERKNS1_8functionIFvS7_S7_EEE)
>>> referenced by fstab.cpp:141 (system/core/fs_mgr/libfstab/fstab.cpp:141)
>>>               lto.tmp:(_ZN7android6fs_mgr20ParseFstabFromStringERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1
_9allocatorIcEEEEbPNS1_6vectorINS0_10FstabEntryENS5_ISB_EEEE)
>>> referenced 25 more times

ld.lld: error: undefined symbol: _ZN7android4base8EndsWithENSt3__117basic_string_viewIcNS1_11char_traitsIcEEEES5_
>>> referenced by strings.h:141 (system/libbase/include/android-base/strings.h:141)
>>>               lto.tmp:(_ZN7android6fs_mgr26ImportBootconfigFromStringERKNSt3__112basic_stringIcNS1_11char_traitsI
cEENS1_9allocatorIcEEEERKNS1_8functionIFvS7_S7_EEE)
>>> referenced by fstab.cpp:600 (system/core/fs_mgr/libfstab/fstab.cpp:600)
>>>               lto.tmp:(_ZN7android6fs_mgr20TransformFstabForDsuEPNSt3__16vectorINS0_10FstabEntryENS1_9allocatorIS
3_EEEERKNS1_12basic_stringIcNS1_11char_traitsIcEENS4_IcEEEERKNS2_ISC_NS4_ISC_EEEE)
>>> referenced by strings.h:141 (system/libbase/include/android-base/strings.h:141)
>>>               lto.tmp:(_ZN7android6fs_mgr14GetBootDevicesEv)

ld.lld: error: undefined symbol: _ZN7android4base13StringReplaceENSt3__117basic_string_viewIcNS1_11char_traitsIcEEEES
5_S5_b
>>> referenced by boot_config.cpp:79 (system/core/fs_mgr/libfstab/boot_config.cpp:79)
>>>               lto.tmp:(_ZN7android6fs_mgr26ImportBootconfigFromStringERKNSt3__112basic_stringIcNS1_11char_traitsI
cEENS1_9allocatorIcEEEERKNS1_8functionIFvS7_S7_EEE)

ld.lld: error: undefined symbol: _ZN7android4base11GetPropertyERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9all
ocatorIcEEEES9_
>>> referenced by libboot_control.cpp:201 (hardware/interfaces/boot/1.1/default/boot_control/libboot_control.cpp:201)
>>>               lto.tmp:(_ZN7android8bootable11BootControl4InitEv)
>>> referenced by boot_config.cpp:188 (system/core/fs_mgr/libfstab/boot_config.cpp:188)
>>>               lto.tmp:(_Z22fs_mgr_get_boot_configRKNSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE
PS5_)

ld.lld: error: undefined symbol: _ZN7android4base16ReadFileToStringERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1
_9allocatorIcEEEEPS7_b
>>> referenced by boot_config.cpp:101 (system/core/fs_mgr/libfstab/boot_config.cpp:101)
>>>               lto.tmp:(_ZN7android6fs_mgr16ImportBootconfigERKNSt3__18functionIFvNS1_12basic_stringIcNS1_11char_t
raitsIcEENS1_9allocatorIcEEEES8_EEE)
>>> referenced by boot_config.cpp:107 (system/core/fs_mgr/libfstab/boot_config.cpp:107)
>>>               lto.tmp:(_ZN7android6fs_mgr13GetBootconfigERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9alloc
atorIcEEEEPS7_)
>>> referenced by boot_config.cpp:157 (system/core/fs_mgr/libfstab/boot_config.cpp:157)
>>>               lto.tmp:(_ZN7android6fs_mgr19ImportKernelCmdlineERKNSt3__18functionIFvNS1_12basic_stringIcNS1_11cha
r_traitsIcEENS1_9allocatorIcEEEES8_EEE)
>>> referenced 17 more times

ld.lld: error: undefined symbol: _ZN7android4base14GetIntPropertyIiEET_RKNSt3__112basic_stringIcNS3_11char_traitsIcEE
NS3_9allocatorIcEEEES2_S2_S2_
>>> referenced by fstab.cpp:681 (system/core/fs_mgr/libfstab/fstab.cpp:681)
>>>               lto.tmp:(_ZN7android6fs_mgr20EnableMandatoryFlagsEPNSt3__16vectorINS0_10FstabEntryENS1_9allocatorIS
3_EEEE)

ld.lld: error: undefined symbol: _ZN7android4base8BasenameENSt3__117basic_string_viewIcNS1_11char_traitsIcEEEE
>>> referenced by fstab.cpp:917 (system/core/fs_mgr/libfstab/fstab.cpp:917)
>>>               lto.tmp:(_ZN7android6fs_mgr19GetVerityDeviceNameERKNS0_10FstabEntryE)
clang++: error: linker command failed with exit code 1 (use -v to see invocation)
00:32:25 ninja failed with: exit status 1
There were 2 actions that completed after the action that failed. See verbose.log.gz for their output.
